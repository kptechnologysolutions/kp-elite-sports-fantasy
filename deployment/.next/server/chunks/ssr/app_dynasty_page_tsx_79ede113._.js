module.exports=[23680,a=>{"use strict";a.s(["default",()=>B],23680);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(91647),f=a.i(3130),g=a.i(54161),h=a.i(2150),i=a.i(65602),j=a.i(21958),k=a.i(24669),l=a.i(53277),m=a.i(86520),n=a.i(60246),o=a.i(41675),p=a.i(21374),q=a.i(73570),r=a.i(50429),s=a.i(1027),t=a.i(90669);class u{dynastyValues=new Map;rookieProfiles=new Map;async initializeDynastyValues(a){a.forEach((a,b)=>{if(a.position&&["QB","RB","WR","TE"].includes(a.position)){let c=this.calculateDynastyValue(a);this.dynastyValues.set(b,c)}})}calculateDynastyValue(a){let b=a.age||25,c=a.position,d=50;"QB"===c?d=b<24?75:b<30?65:40:"RB"===c?d=b<24?70:b<27?60:b<30?35:20:"WR"===c?d=b<25?65:b<30?55:b<33?40:25:"TE"===c&&(d=b<26?60:b<31?50:30);let e=Math.max(1,Math.min(100,d+(30*Math.random()-15))),f="stable",g=0;b<24?(f=Math.random()>.3?"up":"stable",g=15*Math.random()):b>29&&(f=Math.random()>.4?"down":"stable",g=-(12*Math.random()));let h="medium";return e>80?h="elite":e>65?h="high":e<30?h="cut":e<45&&(h="low"),{playerId:a.player_id,playerName:a.full_name,position:a.position,team:a.team,age:a.age,dynastyValue:Math.round(e),oneQBValue:Math.round(.9*e),superflexValue:Math.round(e*("QB"===c?1.2:1)),trend:f,trendPercent:Math.round(g),keeperValue:h,injuryRisk:this.calculateInjuryRisk(a),breakoutCandidate:b<25&&e>40&&e<70,veteranDecline:b>30&&"down"===f}}calculateInjuryRisk(a){let b=a.age||25,c=a.position;return"RB"===c&&b>27||b>32?"high":"RB"===c||b>29?"medium":"low"}analyzeDynastyRoster(a,b){let c=a.map(a=>this.dynastyValues.get(a)).filter(Boolean),d=c.reduce((a,b)=>a+b.dynastyValue,0),e=c.reduce((a,b)=>a+(b.age||25),0)/c.length,f="rebuilding";return d>800&&e<28?f="now":d>600&&e<30&&(f="next-year"),{rosterId:b,playerValues:c,totalValue:d,averageAge:Math.round(10*e)/10,contendingWindow:f,keeperRecommendations:this.getKeeperRecommendations(c),tradeTargets:this.getTradeTargets(c,f),sellCandidates:this.getSellCandidates(c,f)}}getKeeperRecommendations(a){return a.filter(a=>"elite"===a.keeperValue||"high"===a.keeperValue).sort((a,b)=>b.dynastyValue-a.dynastyValue).slice(0,8).map(a=>`${a.playerName} (${a.dynastyValue} pts)`)}getTradeTargets(a,b){return"now"===b?["Target proven veterans for championship push","Look for WRs in good situations","Acquire reliable TEs","Don't overpay for rookies"]:"next-year"===b?["Target young players with upside","Acquire draft picks","Look for breakout candidates","Avoid aging veterans"]:["Trade veterans for picks","Target rookie draft picks","Acquire young players with potential","Sell aging assets while they have value"]}getSellCandidates(a,b){return"rebuilding"===b?a.filter(a=>a.age&&a.age>28&&a.dynastyValue>50).sort((a,b)=>(b.age||0)-(a.age||0)).slice(0,5).map(a=>`${a.playerName} (Age ${a.age}, ${a.dynastyValue} pts)`):a.filter(a=>a.veteranDecline||a.age&&a.age>32).map(a=>`${a.playerName} (${"down"===a.trend?"Declining":"Old"})`)}evaluateDynastyTrade(a,b,c,d){let e=a.reduce((a,b)=>{let c=this.dynastyValues.get(b);return a+(c?.dynastyValue||0)},0),f=b.reduce((a,b)=>{let c=this.dynastyValues.get(b);return a+(c?.dynastyValue||0)},0),g=Math.abs(e-f)/((e+f)/2),h="fair";return g>.3?h=e>f?"heavily-favors-1":"heavily-favors-2":g>.15&&(h=e>f?"favors-1":"favors-2"),{team1Assets:a,team2Assets:b,team1Value:e,team2Value:f,fairness:h,contendingImpact:this.getTradeImpact(a,"now"),rebuildingImpact:this.getTradeImpact(a,"rebuilding")}}getTradeImpact(a,b){let c=a.map(a=>this.dynastyValues.get(a)).filter(Boolean),d=c.reduce((a,b)=>a+(b.age||25),0)/c.length;return(c.reduce((a,b)=>a+b.dynastyValue,0),"now"===b)?d>28?"Good for immediate impact":"Mixed value for contending":d<26?"Excellent for rebuilding":"Limited long-term value"}getDynastyValue(a){return this.dynastyValues.get(a)}getAllDynastyValues(){return this.dynastyValues}generateRookieRankings(a="2025"){return[{playerId:"rookie_2025_001",playerName:"Caleb Williams",position:"QB",college:"USC",draftCapital:1,situation:"good",projectedValue:85,redshirtCandidate:!1,immediateImpact:!0},{playerId:"rookie_2025_002",playerName:"Rome Odunze",position:"WR",college:"Washington",draftCapital:9,situation:"excellent",projectedValue:75,redshirtCandidate:!1,immediateImpact:!0}].sort((a,b)=>b.projectedValue-a.projectedValue)}}let v=new u;var w=a.i(31686),x=a.i(97895);function y(){let[a,d]=(0,c.useState)(null),[e,u]=(0,c.useState)([]),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),{currentLeague:C,myRoster:D,players:E,rosters:F,leagueUsers:G}=(0,w.default)();(0,c.useEffect)(()=>{D&&E.size>0&&H()},[D,E]);let H=async()=>{if(D){z(!0),B(null);try{await v.initializeDynastyValues(E);let a=v.analyzeDynastyRoster(D.players,D.roster_id);d(a);let b=v.generateRookieRankings();u(b)}catch(a){B(a.message||"Failed to analyze dynasty team")}finally{z(!1)}}},I=a=>{switch(a){case"now":return"text-green-600";case"next-year":return"text-yellow-600";case"rebuilding":return"text-blue-600";default:return"text-gray-600"}};if(!C)return(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"py-8",children:(0,b.jsx)("div",{className:"text-center text-muted-foreground",children:"Please select a league to view dynasty analysis"})})});if(y)return(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"py-8",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(t.Activity,{className:"h-8 w-8 mx-auto animate-spin text-primary mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Analyzing dynasty team..."})]})})});if(A)return(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"py-8",children:(0,b.jsxs)(i.Alert,{variant:"destructive",children:[(0,b.jsx)(q.AlertTriangle,{className:"h-4 w-4"}),(0,b.jsx)(i.AlertDescription,{children:A})]})})});if(!a)return(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"py-8",children:(0,b.jsx)("div",{className:"text-center text-muted-foreground",children:"No dynasty analysis available"})})});let J=(a=>{switch(a){case"now":return m.Crown;case"next-year":return r.Target;case"rebuilding":return t.Activity;default:return n.Users}})(a.contendingWindow);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)(f.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(p.Star,{className:"h-5 w-5"}),"Dynasty Value"]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:a.totalValue}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Points"}),(0,b.jsx)(h.Progress,{value:a.totalValue/1200*100,className:"mt-2"})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)(f.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(o.Calendar,{className:"h-5 w-5"}),"Average Age"]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:a.averageAge}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Years"}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(g.Badge,{variant:a.averageAge<26?"default":a.averageAge<29?"secondary":"destructive",children:a.averageAge<26?"Young":a.averageAge<29?"Prime":"Aging"})})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)(f.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(J,{className:(0,x.cn)("h-5 w-5",I(a.contendingWindow))}),"Window"]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:(0,x.cn)("text-lg font-bold capitalize",I(a.contendingWindow)),children:"now"===a.contendingWindow?"Contending Now":"next-year"===a.contendingWindow?"Next Year":"Rebuilding"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"now"===a.contendingWindow?"Championship window open":"next-year"===a.contendingWindow?"Building toward contention":"Focus on future assets"})]})]})]}),(0,b.jsxs)(j.Tabs,{defaultValue:"roster",className:"space-y-4",children:[(0,b.jsxs)(j.TabsList,{className:"grid w-full grid-cols-4",children:[(0,b.jsx)(j.TabsTrigger,{value:"roster",children:"Roster Analysis"}),(0,b.jsx)(j.TabsTrigger,{value:"keepers",children:"Keepers"}),(0,b.jsx)(j.TabsTrigger,{value:"strategy",children:"Strategy"}),(0,b.jsx)(j.TabsTrigger,{value:"rookies",children:"Rookies"})]}),(0,b.jsx)(j.TabsContent,{value:"roster",className:"space-y-4",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Player Dynasty Values"}),(0,b.jsx)(f.CardDescription,{children:"Dynasty values based on age, position, and long-term outlook"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:a.playerValues.sort((a,b)=>b.dynastyValue-a.dynastyValue).slice(0,15).map(a=>{let c=(a=>{switch(a){case"up":return k.TrendingUp;case"down":return l.TrendingDown;default:return t.Activity}})(a.trend);return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.playerName}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.position," • ",a.team," • Age ",a.age]})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-bold",children:a.dynastyValue}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Dynasty Pts"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c,{className:(0,x.cn)("h-4 w-4",(a=>{switch(a){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}})(a.trend))}),a.breakoutCandidate&&(0,b.jsxs)(g.Badge,{variant:"outline",className:"text-xs",children:[(0,b.jsx)(s.Zap,{className:"h-3 w-3 mr-1"}),"Breakout"]}),a.veteranDecline&&(0,b.jsx)(g.Badge,{variant:"destructive",className:"text-xs",children:"Decline"})]}),(0,b.jsx)(g.Badge,{className:(0,x.cn)("text-xs",(a=>{switch(a){case"elite":return"bg-purple-100 text-purple-800";case"high":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-orange-100 text-orange-800";case"cut":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(a.keeperValue)),children:a.keeperValue})]})]},a.playerId)})})})]})}),(0,b.jsx)(j.TabsContent,{value:"keepers",className:"space-y-4",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Keeper Recommendations"}),(0,b.jsx)(f.CardDescription,{children:"Suggested players to keep for dynasty league"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:a.keeperRecommendations.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded bg-green-50",children:[(0,b.jsx)(p.Star,{className:"h-4 w-4 text-green-600"}),(0,b.jsx)("span",{children:a})]},c))})})]})}),(0,b.jsx)(j.TabsContent,{value:"strategy",className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"text-green-600 flex items-center gap-2",children:[(0,b.jsx)(r.Target,{className:"h-5 w-5"}),"Trade Targets"]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:a.tradeTargets.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-green-600",children:"•"}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c))})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"text-red-600 flex items-center gap-2",children:[(0,b.jsx)(l.TrendingDown,{className:"h-5 w-5"}),"Sell Candidates"]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:a.sellCandidates.length>0?a.sellCandidates.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-red-600",children:"•"}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c)):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No immediate sell candidates"})})})]})]})}),(0,b.jsx)(j.TabsContent,{value:"rookies",className:"space-y-4",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"2025 Rookie Rankings"}),(0,b.jsx)(f.CardDescription,{children:"Dynasty values for incoming rookie class"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:e.slice(0,10).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm",children:c+1}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.playerName}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.position," • ",a.college," • Pick #",a.draftCapital]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-bold",children:a.projectedValue}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Projected"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[a.immediateImpact&&(0,b.jsx)(g.Badge,{variant:"default",className:"text-xs",children:"Immediate Impact"}),(0,b.jsxs)(g.Badge,{variant:"excellent"===a.situation?"default":"good"===a.situation?"secondary":"outline",className:"text-xs",children:[a.situation," situation"]})]})]})]},a.playerId))})})]})})]})]})}var z=a.i(27374),A=a.i(92e3);function B(){let a=(0,d.useRouter)(),{user:f,leagues:g,currentLeague:h,error:j}=(0,w.default)();return((0,c.useEffect)(()=>{f||a.push("/login")},[f,a]),f)?(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(e.ModernNav,{}),g.length>0&&(0,b.jsx)("div",{className:"container mx-auto p-4",children:(0,b.jsx)("div",{className:"max-w-md",children:(0,b.jsx)(z.MultiTeamSwitcher,{})})}),j&&(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsxs)(i.Alert,{variant:"destructive",children:[(0,b.jsx)(A.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(i.AlertDescription,{children:j})]})}),!h&&g.length>1&&(0,b.jsx)("div",{className:"container mx-auto p-4",children:(0,b.jsx)(i.Alert,{children:(0,b.jsx)(i.AlertDescription,{children:"Please select a league from above to view dynasty analysis"})})}),h&&(0,b.jsxs)("main",{className:"container mx-auto p-4",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Dynasty League Analysis"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Long-term team building and player valuation for ",h.name]})]}),(0,b.jsx)(y,{})]})]}):null}}];

//# sourceMappingURL=app_dynasty_page_tsx_79ede113._.js.map